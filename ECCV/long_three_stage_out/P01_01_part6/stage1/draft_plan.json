{
  "high_level_goal": "Cook a mixed vegetable and meat stir-fry and rice, then prepare the cooked food for storage or serving while completing basic kitchen cleanup tasks.",
  "steps": [
    {
      "step_id": 1,
      "step_goal": "Stir fry mixed ingredients in frying pan",
      "rationale": "Ensures even heat distribution across all ingredients, preventing localized burning and promoting uniform cooking to develop flavor and texture for the final dish.",
      "causal_chain": {
        "agent": "right_hand",
        "action": "stir and toss ingredients using a spatula",
        "patient": "stir_fry_ingredients",
        "causal_precondition_on_spatial": [
          {
            "relation": "holding",
            "objects": [
              "right_hand",
              "spatula"
            ],
            "truth": true
          },
          {
            "relation": "on_top_of",
            "objects": [
              "frying_pan",
              "electric_stove"
            ],
            "truth": true
          }
        ],
        "causal_precondition_on_affordance": [
          {
            "object_name": "frying_pan",
            "affordance_types": [
              "heat_conductive",
              "non_stick_surface"
            ],
            "reasons": "Visible electric stove under the pan confirms heat can be transferred to cook ingredients; the pan's coating prevents ingredients from sticking during stirring, enabling effective tossing."
          }
        ],
        "causal_effect_on_spatial": [
          {
            "relation": "evenly_distributed",
            "objects": [
              "stir_fry_ingredients",
              "frying_pan"
            ],
            "truth": true
          },
          {
            "relation": "contacting",
            "objects": [
              "spatula",
              "frying_pan"
            ],
            "truth": false
          }
        ],
        "causal_effect_on_affordance": [
          {
            "object_name": "stir_fry_ingredients",
            "affordance_types": [
              "partially_cooked"
            ],
            "reasons": "Visual browning and softening of vegetables and meat confirms partial cooking, bringing the ingredients closer to a fully cooked state suitable for final preparation."
          }
        ]
      },
      "counterfactual_challenge_question": "What if the frying pan was not placed on the electric stove during stirring?",
      "expected_challenge_outcome": "The ingredients would not cook further, remaining undercooked with raw flavors and textures, as no heat would be transferred to the pan or ingredients.",
      "failure_reflecting": {
        "reason": "Ingredients stick to the pan due to insufficient oil or a damaged non-stick coating, making stirring difficult and causing burning.",
        "recovery_strategy": "Add a small amount of cooking oil to the pan and gently scrape stuck ingredients with the spatula while reducing the stove heat to prevent further burning."
      }
    },
    {
      "step_id": 2,
      "step_goal": "Add rice to boiling water in saucepan",
      "rationale": "Introduces rice to boiling water to initiate the absorption cooking process, which is necessary to produce fully cooked, fluffy rice to pair with the stir-fry.",
      "causal_chain": {
        "agent": "both_hands",
        "action": "pour rice from packaging into boiling water",
        "patient": "white_rice",
        "causal_precondition_on_spatial": [
          {
            "relation": "inside",
            "objects": [
              "water",
              "saucepan"
            ],
            "truth": true
          },
          {
            "relation": "boiling",
            "objects": [
              "water",
              "saucepan"
            ],
            "truth": true
          },
          {
            "relation": "holding",
            "objects": [
              "both_hands",
              "rice_package"
            ],
            "truth": true
          }
        ],
        "causal_precondition_on_affordance": [
          {
            "object_name": "saucepan",
            "affordance_types": [
              "heat_conductive",
              "liquid_containment"
            ],
            "reasons": "The saucepan is on the electric stove, so it can transfer heat to boil water; its enclosed shape holds water without spilling, enabling rice to cook in the liquid."
          }
        ],
        "causal_effect_on_spatial": [
          {
            "relation": "inside",
            "objects": [
              "white_rice",
              "saucepan"
            ],
            "truth": true
          },
          {
            "relation": "submerged",
            "objects": [
              "white_rice",
              "water"
            ],
            "truth": true
          }
        ],
        "causal_effect_on_affordance": [
          {
            "object_name": "white_rice",
            "affordance_types": [
              "cooking_in_progress"
            ],
            "reasons": "The rice is submerged in boiling water, initiating the water absorption process that will transform it from raw to fully cooked rice."
          }
        ]
      },
      "counterfactual_challenge_question": "What if the rice was added to cold water instead of boiling water?",
      "expected_challenge_outcome": "The rice would take significantly longer to cook, may become mushy or unevenly cooked due to inconsistent heat exposure during the water heating process.",
      "failure_reflecting": {
        "reason": "Too much rice is added to the saucepan, causing the water to overflow and the rice to cook unevenly.",
        "recovery_strategy": "Reduce the stove heat immediately, drain excess water if possible, and stir the rice gently to promote even cooking while adjusting heat as needed."
      }
    },
    {
      "step_id": 3,
      "step_goal": "Complete kitchen cleanup tasks",
      "rationale": "Maintains an organized and hygienic kitchen environment, ensuring tools and surfaces are ready for use and preventing clutter from interfering with subsequent cooking or serving steps.",
      "causal_chain": {
        "agent": "both_hands",
        "action": "fill glass bottle with water, return utensils to drawer, arrange dishes on drying rack",
        "patient": "kitchen_items",
        "causal_precondition_on_spatial": [
          {
            "relation": "on_top_of",
            "objects": [
              "drawer",
              "kitchen_counter"
            ],
            "truth": true
          },
          {
            "relation": "connected_to_water_source",
            "objects": [
              "kitchen_faucet",
              "water_supply"
            ],
            "truth": true
          }
        ],
        "causal_precondition_on_affordance": [
          {
            "object_name": "kitchen_drawer",
            "affordance_types": [
              "storable",
              "accessible"
            ],
            "reasons": "The drawer is open and has compartments for utensils, enabling safe storage of clean utensils to keep them organized and dust-free."
          }
        ],
        "causal_effect_on_spatial": [
          {
            "relation": "inside",
            "objects": [
              "clean_utensils",
              "kitchen_drawer"
            ],
            "truth": true
          },
          {
            "relation": "filled_with",
            "objects": [
              "glass_bottle",
              "water"
            ],
            "truth": true
          },
          {
            "relation": "on_top_of",
            "objects": [
              "clean_dishes",
              "drying_rack"
            ],
            "truth": true
          }
        ],
        "causal_effect_on_affordance": [
          {
            "object_name": "kitchen_counter",
            "affordance_types": [
              "clutter_free"
            ],
            "reasons": "Utensils, dishes, and bottles are stored or arranged, leaving the counter clear for food preparation, serving, or additional cooking tasks."
          }
        ]
      },
      "counterfactual_challenge_question": "What if the kitchen faucet had no running water supply?",
      "expected_challenge_outcome": "The glass bottle could not be filled, and any additional dish cleaning tasks would be impossible, leaving the bottle empty and potentially delaying or preventing subsequent steps that require water.",
      "failure_reflecting": {
        "reason": "Utensils are not properly placed in the drawer compartments, leading to disorganization and difficulty accessing tools later.",
        "recovery_strategy": "Remove the utensils, rearrange them into their designated compartments in the drawer, and ensure each type of utensil is grouped together for easy access."
      }
    },
    {
      "step_id": 4,
      "step_goal": "Finalize stir-fry cooking by stirring",
      "rationale": "Ensures all stir-fry ingredients are fully cooked and flavors are evenly blended, producing a complete, ready-to-serve or store dish that pairs well with the rice.",
      "causal_chain": {
        "agent": "right_hand",
        "action": "stir and inspect stir-fry ingredients with spatula",
        "patient": "stir_fry_ingredients",
        "causal_precondition_on_spatial": [
          {
            "relation": "holding",
            "objects": [
              "right_hand",
              "spatula"
            ],
            "truth": true
          },
          {
            "relation": "on_top_of",
            "objects": [
              "frying_pan",
              "electric_stove"
            ],
            "truth": true
          }
        ],
        "causal_precondition_on_affordance": [
          {
            "object_name": "stir_fry_ingredients",
            "affordance_types": [
              "partially_cooked"
            ],
            "reasons": "The ingredients were partially cooked in the first step, so they only need final stirring and heat exposure to reach a fully cooked state suitable for consumption."
          }
        ],
        "causal_effect_on_spatial": [
          {
            "relation": "evenly_distributed",
            "objects": [
              "stir_fry_ingredients",
              "frying_pan"
            ],
            "truth": true
          },
          {
            "relation": "free_of_stuck_residue",
            "objects": [
              "frying_pan",
              "stir_fry_ingredients"
            ],
            "truth": true
          }
        ],
        "causal_effect_on_affordance": [
          {
            "object_name": "stir_fry_ingredients",
            "affordance_types": [
              "fully_cooked",
              "ready_to_serve_or_store"
            ],
            "reasons": "Visual cues like golden browning, soft vegetables, and fragrant aroma confirm the ingredients are fully cooked, ready to be paired with rice or stored for later use."
          }
        ]
      },
      "counterfactual_challenge_question": "What if the stove was turned off during this final stirring step?",
      "expected_challenge_outcome": "The ingredients would not receive additional heat, leaving any undercooked portions raw and preventing flavors from fully blending, resulting in an unready dish.",
      "failure_reflecting": {
        "reason": "The stir-fry ingredients are overcooked during final stirring, becoming mushy and losing texture.",
        "recovery_strategy": "Remove the frying pan from the stove immediately, transfer the overcooked ingredients to a plate, and if possible, add a small amount of fresh, uncooked vegetables to add texture before serving or storing."
      }
    },
    {
      "step_id": 5,
      "step_goal": "Retrieve storage containers for cooked food",
      "rationale": "Provides clean, enclosed vessels to portion and store the cooked stir-fry and rice, preserving freshness and enabling easy serving or refrigeration for later consumption.",
      "causal_chain": {
        "agent": "both_hands",
        "action": "pull open drawer and retrieve plastic storage containers",
        "patient": "storage_containers",
        "causal_precondition_on_spatial": [
          {
            "relation": "inside",
            "objects": [
              "storage_containers",
              "kitchen_drawer"
            ],
            "truth": true
          },
          {
            "relation": "under",
            "objects": [
              "kitchen_drawer",
              "kitchen_counter"
            ],
            "truth": true
          }
        ],
        "causal_precondition_on_affordance": [
          {
            "object_name": "storage_containers",
            "affordance_types": [
              "food_safe",
              "sealable"
            ],
            "reasons": "The containers are clean and have matching lids, enabling them to safely store cooked food without contamination and keep it fresh by sealing in moisture."
          }
        ],
        "causal_effect_on_spatial": [
          {
            "relation": "on_top_of",
            "objects": [
              "storage_containers",
              "kitchen_counter"
            ],
            "truth": true
          },
          {
            "relation": "open",
            "objects": [
              "storage_containers",
              "container_lids"
            ],
            "truth": true
          }
        ],
        "causal_effect_on_affordance": [
          {
            "object_name": "storage_containers",
            "affordance_types": [
              "ready_for_food_portioning"
            ],
            "reasons": "The containers are placed on the counter with lids removed, making them accessible to transfer cooked stir-fry and rice for storage or serving."
          }
        ]
      },
      "counterfactual_challenge_question": "What if the storage containers had no matching lids?",
      "expected_challenge_outcome": "The containers could not be sealed, leading to food spoilage faster due to exposure to air, and making it difficult to store or transport the cooked food without spilling.",
      "failure_reflecting": {
        "reason": "The storage containers are dirty, making them unsuitable for storing cooked food without risk of contamination.",
        "recovery_strategy": "Wash the containers with soap and warm water, dry them thoroughly with a clean towel, and then use them to portion the cooked food."
      }
    }
  ]
}