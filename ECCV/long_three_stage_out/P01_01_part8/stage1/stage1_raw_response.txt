{
  "high_level_goal": "To prepare a fully cooked, seasoned vegetable and rice stir-fry dish ready for serving and consumption.",
  "steps": [
    {
      "step_id": 1,
      "step_goal": "Cook and stir vegetable mixture in frying pan",
      "rationale": "Cooking the vegetable mixture softens the ingredients, develops flavor, and creates a base component to combine with rice in later steps.",
      "causal_chain": {
        "agent": "hands",
        "action": "stir and heat chopped vegetable mixture",
        "patient": "vegetable_mixture_in_frying_pan",
        "causal_precondition_on_spatial": [
          {
            "relation": "on_top_of",
            "objects": ["frying_pan", "stove_burner"],
            "truth": true
          },
          {
            "relation": "grasping",
            "objects": ["hands", "spatula"],
            "truth": true
          }
        ],
        "causal_precondition_on_affordance": [
          {
            "object_name": "stove",
            "affordance_types": ["heat_emitting"],
            "reasons": "The stove must emit heat to cook the vegetable mixture; visible steam confirms the burner is active."
          },
          {
            "object_name": "frying_pan",
            "affordance_types": ["heat_conducting"],
            "reasons": "The frying pan must conduct heat from the stove to the vegetables; its metal construction enables this."
          }
        ],
        "causal_effect_on_spatial": [
          {
            "relation": "evenly_distributed",
            "objects": ["vegetable_mixture_in_frying_pan", "frying_pan"],
            "truth": true
          }
        ],
        "causal_effect_on_affordance": [
          {
            "object_name": "vegetable_mixture_in_frying_pan",
            "affordance_types": ["flavor_developed", "partially_cooked"],
            "reasons": "Stirring and heating softens the vegetables and releases flavors, making them suitable for combining with cooked rice."
          }
        ]
      },
      "counterfactual_challenge_question": "What if the stove burner was not turned on during this step?",
      "expected_challenge_outcome": "The vegetable mixture would not cook; it would remain raw and unsoftened, making it unsuitable to combine with rice for the final dish.",
      "failure_reflecting": {
        "reason": "Uneven stirring leads to some vegetables burning while others remain raw.",
        "recovery_strategy": "Remove burnt pieces from the pan, reduce stove heat, and stir continuously to evenly cook remaining vegetables."
      }
    },
    {
      "step_id": 2,
      "step_goal": "Cook and test doneness of rice in saucepan",
      "rationale": "Cooking the rice until fully softened ensures it is palatable and ready to combine with the vegetable mixture; testing doneness confirms it is cooked properly.",
      "causal_chain": {
        "agent": "hands",
        "action": "stir, heat, and taste test cooked rice",
        "patient": "rice_in_saucepan",
        "causal_precondition_on_spatial": [
          {
            "relation": "on_top_of",
            "objects": ["saucepan", "stove_burner"],
            "truth": true
          },
          {
            "relation": "grasping",
            "objects": ["hands", "spoon"],
            "truth": true
          }
        ],
        "causal_precondition_on_affordance": [
          {
            "object_name": "stove",
            "affordance_types": ["heat_emitting"],
            "reasons": "The stove must emit heat to cook the rice; visible steam confirms the burner is active."
          },
          {
            "object_name": "saucepan",
            "affordance_types": ["heat_conducting", "liquid_holding"],
            "reasons": "The saucepan conducts heat to cook the rice and holds water needed for the cooking process."
          }
        ],
        "causal_effect_on_spatial": [
          {
            "relation": "loosely_distributed",
            "objects": ["rice_in_saucepan", "saucepan"],
            "truth": true
          }
        ],
        "causal_effect_on_affordance": [
          {
            "object_name": "rice_in_saucepan",
            "affordance_types": ["fully_cooked", "ready_for_draining"],
            "reasons": "Heating and testing confirms the rice is soft and cooked through, making it ready to drain and combine with vegetables."
          }
        ]
      },
      "counterfactual_challenge_question": "What if the rice was not stirred during cooking?",
      "expected_challenge_outcome": "The rice would stick to the bottom of the saucepan, leading to burnt, unevenly cooked rice that is not suitable for the final dish.",
      "failure_reflecting": {
        "reason": "Rice is undercooked and remains hard when tasted.",
        "recovery_strategy": "Add a small amount of water to the saucepan, cover, and continue heating the rice while stirring occasionally until it softens."
      }
    },
    {
      "step_id": 3,
      "step_goal": "Drain excess water from cooked rice",
      "rationale": "Draining removes excess water to prevent the final stir-fry from being soggy, ensuring the rice has a dry, fluffy texture suitable for combining with vegetables.",
      "causal_chain": {
        "agent": "hands",
        "action": "pour cooked rice through sieve to drain water",
        "patient": "cooked_rice_in_saucepan",
        "causal_precondition_on_spatial": [
          {
            "relation": "positioned_above",
            "objects": ["sieve", "kitchen_sink"],
            "truth": true
          },
          {
            "relation": "grasping",
            "objects": ["hands", "saucepan"],
            "truth": true
          }
        ],
        "causal_precondition_on_affordance": [
          {
            "object_name": "sieve",
            "affordance_types": ["water_permeable", "rice_retaining"],
            "reasons": "The sieve's small holes allow water to pass through while holding the rice, enabling effective draining; its metal mesh construction confirms this."
          },
          {
            "object_name": "cooked_rice_in_saucepan",
            "affordance_types": ["fully_cooked"],
            "reasons": "Only fully cooked rice should be drained to avoid undercooked grains in the final dish."
          }
        ],
        "causal_effect_on_spatial": [
          {
            "relation": "inside",
            "objects": ["drained_rice", "sieve"],
            "truth": true
          },
          {
            "relation": "empty",
            "objects": ["saucepan"],
            "truth": true
          }
        ],
        "causal_effect_on_affordance": [
          {
            "object_name": "drained_rice",
            "affordance_types": ["ready_for_combining"],
            "reasons": "Excess water is removed, giving the rice a dry texture ideal for mixing with the vegetable mixture."
          }
        ]
      },
      "counterfactual_challenge_question": "What if the sieve was not positioned over the sink during draining?",
      "expected_challenge_outcome": "Excess water would spill onto the kitchen floor, creating a mess and potentially a slipping hazard, while the rice would still be drained but the workspace would be contaminated.",
      "failure_reflecting": {
        "reason": "Some rice falls through the sieve into the sink during draining.",
        "recovery_strategy": "Retrieve the rice from the sink (if clean) and add it back to the sieve; use a finer-mesh sieve for future draining to prevent loss."
      }
    },
    {
      "step_id": 4,
      "step_goal": "Combine drained rice with vegetable mixture",
      "rationale": "Combining the rice and vegetable mixture merges the two cooked components, creating the base of the final stir-fry dish that will be seasoned and mixed.",
      "causal_chain": {
        "agent": "hands",
        "action": "pour drained rice into frying pan with vegetable mixture",
        "patient": "drained_rice",
        "causal_precondition_on_spatial": [
          {
            "relation": "on_top_of",
            "objects": ["frying_pan", "stove_burner"],
            "truth": true
          },
          {
            "relation": "positioned_above",
            "objects": ["sieve", "frying_pan"],
            "truth": true
          }
        ],
        "causal_precondition_on_affordance": [
          {
            "object_name": "drained_rice",
            "affordance_types": ["ready_for_combining"],
            "reasons": "The rice is drained and fully cooked, making it suitable to mix with the vegetable mixture."
          },
          {
            "object_name": "vegetable_mixture_in_frying_pan",
            "affordance_types": ["partially_cooked", "ready_for_combining"],
            "reasons": "The vegetable mixture is cooked and flavorful, ready to merge with the rice."
          }
        ],
        "causal_effect_on_spatial": [
          {
            "relation": "mixed_with",
            "objects": ["drained_rice", "vegetable_mixture_in_frying_pan"],
            "truth": true
          }
        ],
        "causal_effect_on_affordance": [
          {
            "object_name": "rice_vegetable_mixture",
            "affordance_types": ["ready_for_stirring", "ready_for_seasoning"],
            "reasons": "The rice and vegetables are combined into a single mixture, ready to be stirred and seasoned for the final dish."
          }
        ]
      },
      "counterfactual_challenge_question": "What if the frying pan was removed from the stove before adding rice?",
      "expected_challenge_outcome": "The vegetable mixture would cool down, leading to a final dish with uneven temperature where the rice is warm but the vegetables are cold, reducing overall palatability.",
      "failure_reflecting": {
        "reason": "Rice is poured unevenly, creating clumps on top of the vegetable mixture.",
        "recovery_strategy": "Use a spatula to break up rice clumps and spread the rice evenly over the vegetable mixture before stirring."
      }
    },
    {
      "step_id": 5,
      "step_goal": "Stir and season combined rice and vegetable mixture",
      "rationale": "Stirring ensures the rice and vegetables are evenly mixed, while seasoning adds flavor to create the final, complete stir-fry dish ready for serving.",
      "causal_chain": {
        "agent": "hands",
        "action": "stir combined mixture and add seasoning",
        "patient": "rice_vegetable_mixture",
        "causal_precondition_on_spatial": [
          {
            "relation": "on_top_of",
            "objects": ["frying_pan", "stove_burner"],
            "truth": true
          },
          {
            "relation": "grasping",
            "objects": ["hands", "spatula", "seasoning_container"],
            "truth": true
          }
        ],
        "causal_precondition_on_affordance": [
          {
            "object_name": "rice_vegetable_mixture",
            "affordance_types": ["ready_for_stirring", "ready_for_seasoning"],
            "reasons": "The rice and vegetables are combined into a single mixture, ready to be mixed and flavored."
          },
          {
            "object_name": "seasoning_container",
            "affordance_types": ["seasoning_dispensing"],
            "reasons": "The container has an open lid, allowing seasoning to be poured into the frying pan."
          }
        ],
        "causal_effect_on_spatial": [
          {
            "relation": "evenly_mixed",
            "objects": ["rice_vegetable_mixture", "frying_pan"],
            "truth": true
          }
        ],
        "causal_effect_on_affordance": [
          {
            "object_name": "rice_vegetable_mixture",
            "affordance_types": ["fully_seasoned", "ready_for_serving"],
            "reasons": "Stirring distributes the seasoning evenly, and the mixture is fully cooked and flavored, making it ready to serve."
          }
        ]
      },
      "counterfactual_challenge_question": "What if too much seasoning was added during this step?",
      "expected_challenge_outcome": "The final dish would be overly salty or spicy, making it unpalatable; the flavor imbalance would be difficult to correct without adding more rice or vegetables to dilute the seasoning.",
      "failure_reflecting": {
        "reason": "Seasoning is added unevenly, leading to some areas of the mixture being overly flavored.",
        "recovery_strategy": "Stir the mixture thoroughly to distribute the seasoning evenly; if still imbalanced, add a small amount of extra rice to dilute the over-seasoned areas."
      }
    }
  ]
}